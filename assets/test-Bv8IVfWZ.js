import{_ as z,r as s,f as I,g as F,h as P,c as m,i as W,b as a,j as A,t as y,n as S,d as O,e as j,k as H,u as K,o as g}from"./index-Cyp0yzen.js";const U={class:"snake-game-container"},Z={class:"game-info"},q={class:"score"},J={class:"level"},Q={class:"high-score"},X={class:"controls"},Y={key:0,class:"game-over-modal"},$={class:"modal-content"},w=20,_=20,b=20,C=150,ee={__name:"test",setup(ae){const M=K(),i=s([{x:10,y:10}]),x=s({x:15,y:15}),n=s({x:0,y:0}),u=s({x:0,y:0}),o=s(!1),d=s(!1),c=s(0),f=s(1),h=s(localStorage.getItem("snakeHighScore")||0),p=s(C),v=I(()=>b),B=I(()=>w*b),N=I(()=>_*b);let l=null;F(()=>{window.addEventListener("keydown",D)}),P(()=>{window.removeEventListener("keydown",D),l&&clearInterval(l)});const D=t=>{const e=t.key.toLowerCase();["arrowup","arrowdown","arrowleft","arrowright","w","a","s","d"].includes(e)&&t.preventDefault(),(e==="arrowup"||e==="w")&&n.value.y===0?u.value={x:0,y:-1}:(e==="arrowdown"||e==="s")&&n.value.y===0?u.value={x:0,y:1}:(e==="arrowleft"||e==="a")&&n.value.x===0?u.value={x:-1,y:0}:(e==="arrowright"||e==="d")&&n.value.x===0&&(u.value={x:1,y:0})},E=()=>{let t,e=!1;for(;!e;)t={x:Math.floor(Math.random()*w),y:Math.floor(Math.random()*_)},e=!i.value.some(r=>r.x===t.x&&r.y===t.y);x.value=t},L=()=>{if(!o.value||d.value)return;(u.value.x!==0||u.value.y!==0)&&(n.value=u.value);const t=i.value[0],e={x:(t.x+n.value.x+w)%w,y:(t.y+n.value.y+_)%_};if(i.value.some(r=>r.x===e.x&&r.y===e.y)){T();return}i.value.unshift(e),e.x===x.value.x&&e.y===x.value.y?(c.value+=10*f.value,f.value=Math.floor(c.value/100)+1,p.value=Math.max(50,C-(f.value-1)*10),clearInterval(l),l=setInterval(L,p.value),E()):i.value.pop()},R=()=>{d.value?k():(o.value=!o.value,o.value&&!l?l=setInterval(L,p.value):o.value||(clearInterval(l),l=null))},T=()=>{d.value=!0,o.value=!1,clearInterval(l),l=null,c.value>h.value&&(h.value=c.value,localStorage.setItem("snakeHighScore",h.value))},k=()=>{i.value=[{x:10,y:10}],n.value={x:0,y:0},u.value={x:0,y:0},c.value=0,f.value=1,p.value=C,o.value=!1,d.value=!1,E(),clearInterval(l),l=null},V=()=>{M.push("/")};return(t,e)=>(g(),m("div",U,[e[2]||(e[2]=W(" æŒ‰ä¸‹æŒ‰é’®å†ç‚¹å¼€å§‹æ¸¸æˆ ",-1)),a("button",{class:"return-btn",onClick:V},"è¿”å›"),e[3]||(e[3]=a("h1",null,"ğŸ è´ªåƒè›‡å°æ¸¸æˆ",-1)),a("div",Z,[a("div",q,"åˆ†æ•°: "+y(c.value),1),a("div",J,"ç­‰çº§: "+y(f.value),1),a("div",Q,"æœ€é«˜åˆ†: "+y(h.value),1)]),a("div",{class:"game-board",style:S({width:B.value+"px",height:N.value+"px"})},[a("div",{class:"food",style:S({left:x.value.x*v.value+"px",top:x.value.y*v.value+"px",width:v.value+"px",height:v.value+"px"})},null,4),(g(!0),m(O,null,j(i.value,(r,G)=>(g(),m("div",{key:G,class:H(["snake-segment",{"snake-head":G===0}]),style:S({left:r.x*v.value+"px",top:r.y*v.value+"px",width:v.value+"px",height:v.value+"px"})},null,6))),128))],4),a("div",X,[a("button",{onClick:R,class:H({"pause-btn":o.value})},y(o.value?"æš‚åœ":d.value?"é‡æ–°å¼€å§‹":"å¼€å§‹æ¸¸æˆ"),3),a("button",{onClick:k},"é‡ç½®"),e[0]||(e[0]=a("p",{class:"hint"},"ä½¿ç”¨æ–¹å‘é”®æˆ– WASD æ§åˆ¶è›‡ç§»åŠ¨",-1))]),d.value?(g(),m("div",Y,[a("div",$,[e[1]||(e[1]=a("h2",null,"æ¸¸æˆç»“æŸ",-1)),a("p",null,"æœ€ç»ˆåˆ†æ•°: "+y(c.value),1),a("button",{onClick:k},"é‡æ–°å¼€å§‹")])])):A("",!0)]))}},te=z(ee,[["__scopeId","data-v-0b605a95"]]);export{te as default};
